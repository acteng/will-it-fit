<script lang="ts">
  import init, { Backend } from "backend";
  import { onMount } from "svelte";

  let gj = {
    type: "FeatureCollection",
    features: [
      {
        geometry: {
          coordinates: [
            [-0.668466, 53.590703],
            [-0.668411, 53.590276],
            [-0.668397, 53.590184],
            [-0.668382, 53.590082],
            [-0.668199, 53.58874],
            [-0.668136, 53.588145],
            [-0.665346, 53.588119],
            [-0.665098, 53.588116],
            [-0.664484, 53.588111],
            [-0.663329, 53.588095],
            [-0.66314, 53.588099],
            [-0.66219, 53.588084],
            [-0.661, 53.58809],
            [-0.660946, 53.586961],
            [-0.656874, 53.587166],
            [-0.655188, 53.587226],
            [-0.654856, 53.587237],
            [-0.654297, 53.587257],
            [-0.654292, 53.587202],
            [-0.654287, 53.587181],
            [-0.654338, 53.587149],
            [-0.654367, 53.587113],
            [-0.654368, 53.587076],
            [-0.654344, 53.587039],
            [-0.654301, 53.587014],
            [-0.654328, 53.586999],
            [-0.654362, 53.586929],
            [-0.654395, 53.586868],
            [-0.65413, 53.586874],
            [-0.654061, 53.586879],
            [-0.654057, 53.58678],
            [-0.654051, 53.586537],
            [-0.654041, 53.586437],
            [-0.654022, 53.586264],
            [-0.653989, 53.586102],
            [-0.653982, 53.586069],
            [-0.653969, 53.585925],
            [-0.653968, 53.585919],
            [-0.653957, 53.585852],
            [-0.653937, 53.585779],
            [-0.65388, 53.585637],
            [-0.653856, 53.58556],
            [-0.653786, 53.585367],
            [-0.653726, 53.585175],
            [-0.653667, 53.585015],
            [-0.65361, 53.584879],
            [-0.653477, 53.584736],
            [-0.653382, 53.584671],
            [-0.65334, 53.584571],
            [-0.65339, 53.584468],
            [-0.653492, 53.584406],
            [-0.653462, 53.58402],
            [-0.653424, 53.583811],
            [-0.653347, 53.583381],
            [-0.653336, 53.58325],
            [-0.653335, 53.583068],
            [-0.65336, 53.582884],
            [-0.653381, 53.58275],
            [-0.653416, 53.58262],
            [-0.653579, 53.582129],
            [-0.653636, 53.58197],
            [-0.653652, 53.581926],
            [-0.653699, 53.581807],
            [-0.653775, 53.581611],
            [-0.654082, 53.580707],
            [-0.654132, 53.580563],
            [-0.654249, 53.580232],
            [-0.654338, 53.579974],
            [-0.654511, 53.579372],
            [-0.654519, 53.579326],
            [-0.654518, 53.579284],
            [-0.654505, 53.579221],
            [-0.654436, 53.579134],
            [-0.654366, 53.579096],
            [-0.654158, 53.579028],
            [-0.653988, 53.578995],
            [-0.653831, 53.578973],
            [-0.653636, 53.578949],
            [-0.653488, 53.578933],
            [-0.653427, 53.578927],
            [-0.653224, 53.578905],
            [-0.652999, 53.578882],
            [-0.65281, 53.578862],
            [-0.652759, 53.578853],
            [-0.652556, 53.578821],
            [-0.652226, 53.578764],
            [-0.652019, 53.578729],
            [-0.651929, 53.578714],
            [-0.65179, 53.578685],
            [-0.65161, 53.578649],
            [-0.65139, 53.578602],
            [-0.651151, 53.578548],
            [-0.650846, 53.57847],
            [-0.6505, 53.578367],
            [-0.650166, 53.578259],
            [-0.64983, 53.578143],
            [-0.649493, 53.578021],
            [-0.649209, 53.577902],
            [-0.648925, 53.577781],
            [-0.648606, 53.577625],
            [-0.648304, 53.577476],
            [-0.647934, 53.577283],
            [-0.647725, 53.577173],
            [-0.647564, 53.57729],
            [-0.647561, 53.577293],
            [-0.647482, 53.577361],
            [-0.647368, 53.577308],
            [-0.64736, 53.577225],
          ],
          type: "LineString",
        },
        properties: {},
        type: "Feature",
      },
    ],
  };
  let resp = "";
  onMount(async () => {
    await init();
    let backend = new Backend();
    resp = backend.query(JSON.stringify(gj));
  });
</script>

<h1>Will it fit?</h1>
<p>{resp}</p>
